{% extends "node--full.html.twig" %}

{% block node_hero %}
  <div class="hero{% if not content.field_hero_image|field_value %} hero--default{% endif %}">
    <figure class="hero__media">
      <div class="hero__media-image">
        {% if content.field_hero_image|field_value %}
          {{ content.field_hero_image }}
        {% else %}
          <img src="{{ assets_path ~ '/img/MSAC_default_profile_image.jpg' }}" alt="">
        {% endif %}
      </div>
      {% if content.field_hero_caption|field_value %}
        <figcaption class="hero__media-caption">{{ content.field_hero_caption }}</figcaption>
      {% endif %}
    </figure>
  </div>
{% endblock %}


{% block node_heading %}
	<div class="page-heading outer-pad">
		{% set thumbnail = assets_path ~ '/img/MSAC_default_profile_image_square.jpg' %}
		{% set thumbnail_alt = 'Portrait of ' ~ node.title.value %}
		{% if content.field_district_photo|field_value %}
			{% set thumbnail = file_url(content.field_district_photo|field_target_entity.uri.value | image_style('optimized')) %}
			{% set thumbnail_alt = content.field_district_photo['#items'].alt %}
		{% endif %}
    <div class="silc-grid silc-grid--collapse silc-grid--justify-center">
		<div class="silc-position--relative silc-grid__col silc-grid__col--3-1024 silc-grid__col--2-1200">
            <div class="profile-photo__container">
				<div class="profile__photo">
					<img src="{{ thumbnail }}" alt="{{ thumbnail_alt }}">
				</div>
				<a href="{{ drupal_url(msac_directory_path, {absolute: true}) }}"><span role="presentation">&lt;&nbsp;</span>Back to Directory</a>
			</div>
        </div>
			<div class="silc-grid__col silc-grid__col--9-1024 silc-grid__col--10-1200">
				<h1>{{ label }}</h1>
			</div>
    	</div>
	</div>
{% endblock %}

{% block node_content %}
	<div class="page-content outer-pad">
		{{ drupal_messages() }}
		{% if content.field_district_lead_in|field_value %}
			<div class="widget-spacing">
				<div class="silc-grid silc-grid--collapse silc-grid--justify-center">
					<div class="silc-grid__col silc-grid__col--10-800 silc-grid__col--8-1200">
						<blockquote class="blockquote blockquote--full-width">
							<div class="blockquote__quote">
								<p>{{ content.field_district_lead_in|field_value|nl2br }}</p>
							</div>
						</blockquote>
					</div>
				</div>
			</div>
		{% endif %}
		<div class="widget-spacing">
			<div class="silc-grid silc-grid--collapse silc-grid--justify-center silc-grid--justify-right-1024">
					<div class="silc-grid__col silc-grid__col--10-800 silc-grid__col--6-1024 silc-grid__col--6-1200">
                <div class="collapsible-text text-content">
                    <h2>About this A&E District</h2>
										{{ content.field_district_outline|field_value }}
                </div>
					</div>
					<div class="silc-grid__col silc-grid__col--10-800 silc-grid__col--5-1024 silc-grid__col--4-1200">
						<aside class="aside">
							<div class="aside__content">
								{% set websites %}
									{% if content.field_district_websites %}
										{% for key, item in content.field_district_websites %}
										{% if key|first != '#' %}
											<a href="{{ content.field_district_websites[key]['#url'] }}" class="button" target="_blank">
												<span class="visible-for-screen-readers">{{ node.title.value }} website </span>{{ content.field_district_websites[key]['#title'] }}
											</a>
										{% endif %}
										{% endfor %}
									{% endif %}
								{% endset %}
								{% if websites|trim is not empty %}
									<div class="aside__section">
										<div>
											<p>
												{{ websites }}
											</p>
										</div>
									</div>
								{% endif %}
								{% set contact_location %}
									{% if content.field_district_address %}
										<div class="address-wrapper">
											<div class="icon-circle">
												<svg xmlns="http://www.w3.org/2000/svg" width="17" height="22" viewbox="0 0 17 22">
													<g fill="none" fill-rule="evenodd"><path d="M8.5 22C14.167 15.974 17 11.424 17 8.35 17 3.737 13.194 0 8.5 0S0 3.738 0 8.35C0 11.423 2.833 15.973 8.5 22z" fill="#FFF"/><circle fill="#000" cx="8.5" cy="8.5" r="3.5"/></g>
												</svg>
											</div>
											<div>
												{{ content.field_district_address }}
											</div>
										</div>
									{% endif %}
								{% endset %}
								{% if contact_location|trim is not empty %}
									<div class="aside__section">
										<div>
											{{ contact_location }}
										</div>
									</div>
								{% endif %}
								{% set social_links %}
									{% if content.field_district_social_facebook|field_value %}
										<li>
											<a href="{{ content.field_district_social_facebook.0['#url'] }}" target="_blank" class="icon-circle">
												<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewbox="0 0 18 18">
													<defs><path d="M17.007 0H.993A.993.993 0 000 .993v16.014c0 .548.445.993.993.993h8.621v-6.97H7.27V8.312h2.345V6.309c0-2.324 1.42-3.59 3.494-3.59.994 0 1.848.074 2.096.107v2.43h-1.438c-1.128 0-1.346.536-1.346 1.322v1.735h2.69l-.35 2.716h-2.34V18h4.587a.993.993 0 00.993-.993V.993A.993.993 0 0017.007 0" id="facebook-a"/></defs><use xlink:href="#facebook-a" fill-rule="evenodd"/></svg>
												<span class="visible-for-screen-readers">Visit {{ node.title.value }} on Facebook</span>
											</a>
										</li>
									{% endif %}
									{% if content.field_district_social_twitter|field_value %}
										<li>
											<a href="{{ content.field_district_social_twitter.0['#url'] }}" target="_blank" class="icon-circle">
												<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="19" height="16" viewbox="0 0 24 20">
													<defs><path d="M33 20.385c-.897.384-1.794.692-2.841.769 1.047-.616 1.794-1.616 2.168-2.77-.972.616-2.019 1-3.14 1.231-.897-1-2.168-1.615-3.514-1.615-2.692 0-4.935 2.23-4.935 5.077 0 .385.075.77.15 1.154C16.776 24 13.187 22 10.72 18.923a4.948 4.948 0 00-.673 2.539c0 1.769.897 3.307 2.168 4.23a4.47 4.47 0 01-2.243-.615v.077c0 2.461 1.72 4.461 3.963 4.923-.449.077-.823.154-1.271.154-.3 0-.599 0-.898-.077.598 2 2.468 3.461 4.561 3.538-1.645 1.385-3.813 2.154-6.13 2.154-.375 0-.823 0-1.197-.077C11.243 37.154 13.86 38 16.626 38c9.047 0 13.981-7.692 13.981-14.385V23c.898-.77 1.72-1.615 2.393-2.615z" id="twitter-a"/></defs><use fill-rule="nonzero" xlink:href="#twitter-a" transform="translate(-9 -18)"/></svg>
												<span class="visible-for-screen-readers">Visit {{ node.title.value }} on Twitter</span>
											</a>
										</li>
									{% endif %}
									{% if content.field_district_social_instagram|field_value %}
										<li>
											<a href="{{ content.field_district_social_instagram.0['#url'] }}" target="_blank" class="icon-circle">
												<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewbox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z" fill-rule="evenodd"/></svg>
												<span class="visible-for-screen-readers">Visit {{ node.title.value }} on Instagram</span>
											</a>
										</li>
									{% endif %}
									{% if content.field_district_social_youtube|field_value %}
										<li>
											<a href="{{ content.field_district_social_youtube.0['#url'] }}" target="_blank" class="icon-circle">
												<svg xmlns="http://www.w3.org/2000/svg" width="18" height="12" viewbox="0 0 25 17"><path d="M24.774 3.686s-.226-1.655-.978-2.407C22.893.3 21.839.3 21.387.226 18.002 0 12.958 0 12.958 0S7.916 0 4.53.226C4.078.3 3.024.3 2.121 1.279c-.753.752-.979 2.407-.979 2.407S.917 5.642.917 7.597v1.806c0 1.955.225 3.911.225 3.911s.226 1.655.979 2.407c.903.978 2.107.903 2.634 1.053 1.957.15 8.203.226 8.203.226s5.043 0 8.43-.226c.451-.075 1.505-.075 2.408-1.053.752-.752.978-2.407.978-2.407S25 11.358 25 9.403V7.597c0-1.955-.226-3.911-.226-3.911zm-14.3 7.973V4.89l6.473 3.385-6.472 3.385z" fill-rule="evenodd"/></svg>
												<span class="visible-for-screen-readers">Visit {{ node.title.value }} on YouTube</span>
											</a>
										</li>
									{% endif %}
									{% if content.field_district_social_vimeo|field_value %}
										<li>
											<a href="{{ content.field_district_social_vimeo.0['#url'] }}" target="_blank" class="icon-circle">
												<svg xmlns="http://www.w3.org/2000/svg" width="18" height="17" viewbox="0 0 24 22"><path d="M23.987 5.377c-.074 2.326-1.724 5.553-4.872 9.605-3.298 4.277-5.997 6.378-8.246 6.378-1.424 0-2.548-1.275-3.523-3.902-.674-2.401-1.274-4.727-1.949-7.129-.75-2.551-1.499-3.902-2.324-3.902-.15 0-.824.375-1.874 1.126L0 6.127c1.2-1.05 2.324-2.101 3.523-3.152C5.097 1.625 6.297.875 7.046.8c1.874-.15 2.999 1.126 3.449 3.827.45 2.927.824 4.803.974 5.478.525 2.477 1.124 3.677 1.8 3.677.524 0 1.273-.825 2.248-2.401.974-1.576 1.574-2.777 1.65-3.602.149-1.35-.376-2.026-1.65-2.026-.6 0-1.2.15-1.8.375C14.918 2.225 17.168.35 20.465.5c2.474.15 3.673 1.726 3.523 4.878z" fill-rule="evenodd"/></svg>
												<span class="visible-for-screen-readers">Visit {{ node.title.value }} on Vimeo</span>
											</a>
										</li>
									{% endif %}
								{% endset %}
								{% if social_links|trim is not empty %}
									<div class="aside__section">
										<ul class="social-media">
											{{ social_links }}
										</ul>
									</div>
								{% endif %}
								{% set contact_info %}
									{% if content.field_district_contact_name|field_value %}
										{{ content.field_district_contact_name|field_value }}<br />
									{% endif %}
									{% if content.field_district_contact_phone|field_value %}
										<a tel="{{ content.field_district_contact_phone|field_value }}">{{ content.field_district_contact_phone|field_value }}</a><br />
									{% endif %}
									{% if content.field_district_contact_email|field_value %}
										<a mailto="{{ content.field_district_contact_email|field_value }}">{{ content.field_district_contact_email|field_value }}</a><br />
									{% endif %}
								{% endset %}
								{% if contact_info|trim is not empty %}
									<div class="aside__section">
										<div>
											<p>
												{{ contact_info }}
											</p>
										</div>
									</div>
								{% endif %}
							</div>
						</aside>
					</div>
			</div>
		</div>
		{% if content.body %}
			<div class="widget-spacing">
				<div class="silc-grid silc-grid--collapse silc-grid--justify-center">
					<div class="silc-grid__col silc-grid__col--10-800 silc-grid__col--8-1200">
						{{ content.body }}
					</div>
				</div>
			</div>
		{% endif %}

		{% if node.field_district_object_id.value is not empty %}
			<div class="widget-spacing">
				<div class="silc-grid silc-grid--collapse silc-grid--justify-center">
					<div class="silc-grid__col silc-grid__col--10-800 silc-grid__col--8-1200">
						<div class="ae-district-map-root" id="ae-district-map-root">
							<ae-district-map :object-id="{{ node.field_district_object_id.value }}" />
							<noscript>Please enable Javascript to see where this Arts &amp; Entertainment District is located on the map.</noscript>
						</div>
					</div>
				</div>
			</div>
		{% endif %}

    {% set featured_work %}
      {% if drupal_view_result('featured_work_images', 'embed_1') %}
        <h3>Photos</h3>
        {{ drupal_view('featured_work_images', 'embed_1') }}
      {% endif %}
      {% if drupal_view_result('featured_work_videos', 'embed_1') %}
        <h3>Videos</h3>
        {{ drupal_view('featured_work_videos', 'embed_1') }}
      {% endif %}
      {% if drupal_view_result('featured_work_audio', 'embed_1') %}
        <h3>Music/Audio</h3>
        {{ drupal_view('featured_work_audio', 'embed_1') }}
      {% endif %}
      {% if drupal_view_result('featured_work_documents', 'embed_1') %}
        <h3>Written Works</h3>
        {{ drupal_view('featured_work_documents', 'embed_1') }}
      {% endif %}
    {% endset %}

    {% if featured_work|trim is not empty %}
      <div class="widget-spacing">
        <div class="silc-grid silc-grid--collapse silc-grid--justify-center">
          <div class="silc-grid__col silc-grid__col--10-800 silc-grid__col--8-1200">
            <h2>District Highlights</h2>
            {{ featured_work }}
          </div>
        </div>
      </div>
    {% endif %}

		{% if content.field_widgets|field_value %}
			<div class="silc-grid__col silc-grid__col--12">
				<div class="page-widgets">
					{{ content.field_widgets }}
				</div>
			</div>
		{% endif %}
	</div>

{% endblock %}
