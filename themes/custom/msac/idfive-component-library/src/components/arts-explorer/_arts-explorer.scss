.arts-explorer {
  margin: 0 rem(-16);
  max-width: rem(1440);
  position: relative;
  @include media("550") {
    margin: 0 rem(-32);
  }
  @include media("800") {
    margin: 0 auto;
  }
}

.arts-explorer__filters {
  background-color: $black;
  color: $white;
  padding: rem(24) rem(16) rem(32);
  @include media("550") {
    padding: rem(24) rem(32) rem(32);
  }
  @include media("800") {
    display: flex;
    justify-content: flex-start;
  }
}

.arts-explorer__filter {
  margin: 0 auto;
  max-width: rem(400);
  @include media("800") {
    flex: 1 1 0px;
    margin: 0;
    max-width: none;
  }
  @include media("1100") {
    align-items: center;
    display: flex;
    flex: 0 0 auto;
  }
  &:not(:last-child) {
    margin: 0 auto rem(24);
    @include media("800") {
      margin: 0 rem(32) 0 0;
    }
  }
  .label {
    display: block;
    font-family: $red-hat-display;
    font-size: rem(22);
    font-weight: 700;
    line-height: (30 / 22);
    margin: 0 0 rem(8);
    white-space: nowrap;
    @include media("1024") {
      margin: 0 rem(16) 0 0;
    }
  }
  .select {
    background-color: $white;
    width: 100%;
    @include media("1100") {
      flex: 0 0 auto;
      width: rem(300);
    }
  }
}

.arts-explorer__views {
  position: relative;
  @include media("1024") {
    display: flex;
    justify-content: flex-end;
  }
}

.arts-explorer__views-tabs {
  background-color: $white;
  display: flex;
  position: relative;
  z-index: 10;
}

.arts-explorer__views-tabs-item {
  flex: 1 1 0px;
}

.arts-explorer__views-tabs-button.button {
  @extend %tab-panel-tab;
}

.arts-explorer__map-view {
  position: relative;
  @include media("1024") {
    flex: 0 0 auto;
    width: 65%;
  }
  &:before {
    content: "";
    display: block;
    padding-top: 105%;
    @include media("800") {
      padding-top: 80%;
    }
  }
}

.arts-explorer__map {
  border-bottom: rem(3) solid $black;
  height: 100%;
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;
  @include media("800") {
    border-right: rem(3) solid $black;
    border-left: rem(3) solid $black;
  }
  @include media("1024") {
    border-left: none;
  }
}

.arts-explorer__list-view {
  background-color: rgba($white, 0.9);
  box-shadow: 0 0 rem(16) rgba($black, 0.2);
  width: 100%;
  overflow: hidden;
  padding: rem(18) 0;
  position: absolute;
  top: rem(44);
  bottom: 0;
  left: 0;
  transition: 0.3s opacity ease-in-out, 0.3s visibility ease-in-out;
  @include media("1024") {
    background-color: $white;
    flex: 0 0 auto;
    top: 0;
    width: 35%;
  }
  &[aria-hidden="true"] {
    opacity: 0;
    visibility: hidden;
  }
}

.arts-explorer__list-view-scroller {
  height: 100%;
  padding: 0 rem(36) 0 rem(18);
  overflow-y: auto;
}

.arts-explorer__list-location {
  align-items: stretch;
  appearance: none;
  background-color: transparent;
  border: none;
  border-bottom: rem(5) solid transparent;
  cursor: pointer;
  display: flex;
  font-family: $red-hat-text;
  padding: 0;
  text-align: left;
  transition: 0.3s border-bottom-color ease-in-out;
  width: 100%;
  @include media("1024") {
    background-color: $white;
  }
  &.arts-explorer__list-location--selected,
  &:hover,
  &:focus {
    border-bottom-color: $yellow;
    &:before {
      background-color: $yellow;
    }
  }
  &--a_e_district {
    &:before {
      background-image: url("../../img/ae-district.svg");
      background-size: rem(28) auto;
      @include media("800") {
        background-size: rem(37) auto;
      }
    }
  }
  &--museum_gallery {
    &:before {
      background-image: url("../../img/museum-gallery.svg");
      background-size: rem(28) auto;
      @include media("800") {
        background-size: rem(37) auto;
      }
    }
  }
  &--performance_venue {
    &:before {
      background-image: url("../../img/performance-venue.svg");
      background-size: rem(34) auto;
      @include media("800") {
        background-size: rem(45);
      }
    }
  }
  &--public_art {
    &:before {
      background-image: url("../../img/public-art.svg");
      background-size: rem(18) auto;
      @include media("800") {
        background-size: rem(24) auto;
      }
    }
  }
  &:before {
    content: "";
    background-color: $white;
    background-position: center center;
    background-repeat: no-repeat;
    flex: 0 0 auto;
    display: block;
    transition: 0.3s background-color ease-in-out;
    width: rem(80);
  }
}

.arts-explorer__list-location-info {
  flex: 1;
  display: block;
  padding: rem(8) rem(12);
}

.arts-explorer__list-location-name {
  color: $black;
  display: block;
  font-family: $red-hat-display;
  font-size: rem(18);
  font-weight: 700;
  line-height: (26 / 18);
  text-decoration: underline;
  @include media("800") {
    font-size: rem(22);
    line-height: (30 / 22);
    text-decoration: none;
  }
}

.arts-explorer__list-location-city {
  color: $gray-3;
  display: block;
  font-size: rem(16);
  line-height: (26 / 16);
}

.arts-explorer__map-popup {
  background-color: $white;
  box-shadow: 0 0 rem(16) rgba($black, 0.2);
  max-width: rem(325);
  position: absolute;
  top: 0;
  left: 0;
  transform: translate(-50%, calc(-100% - #{rem(40)}));
  visibility: hidden;
  width: 66.667%;
  &.arts-explorer__map-popup--visible {
    visibility: visible;
  }
  &:after {
    content: "";
    border-top: rem(8) solid $white;
    border-right: rem(10) solid transparent;
    border-left: rem(10) solid transparent;
    display: block;
    height: 0;
    width: 0;
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translate(-50%, 100%);
  }
}

.arts-explorer__map-popup-container {
  display: flex;
}

.arts-explorer__map-popup-thumbnail {
  background-position: center;
  background-size: cover;
  flex: 0 0 auto;
  position: relative;
  width: rem(115);
  &:before {
    content: "";
    background-color: $yellow;
    background-position: center;
    background-repeat: no-repeat;
    background-size: rem(24) auto;
    display: block;
    height: rem(42);
    width: rem(42);
    position: absolute;
    bottom: 0;
    left: 0;
  }
  .arts-explorer__map-popup--a_e_district & {
    &:before {
      background-image: url("../../img/ae-district.svg");
    }
  }
  .arts-explorer__map-popup--museum_gallery & {
    &:before {
      background-image: url("../../img/museum-gallery.svg");
    }
  }
  .arts-explorer__map-popup--performance_venue & {
    &:before {
      background-image: url("../../img/performance-venue.svg");
    }
  }
  .arts-explorer__map-popup--public_art & {
    &:before {
      background-image: url("../../img/public-art.svg");
      background-size: rem(18) auto;
    }
  }
}

.arts-explorer__map-popup-content {
  background-color: $white;
  flex: 1 1 0px;
  padding: rem(18) rem(24) rem(24);
}

.arts-explorer__map-popup-title {
  display: table;
  font-family: $red-hat-text;
  font-size: rem(18);
  margin-bottom: rem(12);
}
.arts-explorer__map-popup-title[href] {
  color: $red;
  text-decoration: underline;
  cursor: pointer;
}
.arts-explorer__map-popup-directions {
  color: $dark-red;
  font-family: $red-hat-text;
  font-size: rem(16);
  font-style: italic;
  &:hover {
    color: $black;
  }
}

.arts-explorer__key {
  @extend %aside;
  background-color: $white;
  box-shadow: 0 0 16px 0 rgba($black, 0.2);
  padding: 0 rem(26) rem(22);
  width: calc(100% - #{rem(40)});
  @include media("500") {
    width: 50%;
  }
  @include media("1024") {
    margin-left: rem(20);
    position: absolute;
    bottom: 0;
    left: 35%;
    width: auto;
  }
}

.arts-explorer__key-heading {
  @extend %aside-heading;
  background-color: $yellow;
  color: $black;
  margin: 0;
}

.arts-explorer__key-item {
  display: flex;
  font-size: rem(18);
  line-height: (28 / 18);
  &:not(:last-child) {
    margin-bottom: rem(8);
  }
  &--a_e_district {
    &:before {
      background-size: rem(20) auto;
      background-image: url("../../img/ae-district.svg");
    }
  }
  &--public_art {
    &:before {
      background-size: rem(14) auto;
      background-image: url("../../img/public-art.svg");
    }
  }
  &--museum_gallery {
    &:before {
      background-size: rem(18) auto;
      background-image: url("../../img/museum-gallery.svg");
    }
  }
  &--performance_venue {
    &:before {
      background-size: rem(22) auto;
      background-image: url("../../img/performance-venue.svg");
    }
  }
  &:before {
    content: "";
    background-position: center;
    background-repeat: no-repeat;
    display: block;
    flex: 0 0 auto;
    margin-right: rem(12);
    width: rem(24);
  }
}
